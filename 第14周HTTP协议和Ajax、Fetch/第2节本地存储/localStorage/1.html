<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form id='login' action="https://www.imooc.com" method="post">
        <input type="text" name='username'>
        <input type="password" name='password'>
        <input type="submit" id='btn' value='登录'>
    </form>

    <script>
        // 1. localStorage
        // localStorage也是一种浏览器存储数据的方式(本地存储), 它只是存储在本地,不会发送到服务器端

        // 单个域名下的localStorage总大小有限制

        // 2. 在浏览器中操作localStorage

        // 3. 基本用法
        // console.log(localStorage);

        // localStorage.setItem('username', 'alex');
        // localStorage.setItem('username', 'zs');
        // localStorage.setItem('age', 18);
        // localStorage.setItem('sex', 'male');

        // console.log(localStorage.length);

        // console.log(localStorage.getItem('username'));
        // console.log(localStorage.getItem('age'));

        // 获取不存在的会返回null
        // console.log(localStorage.getItem('school'));

        // removeItem()
        // localStorage.removeItem('username');
        // localStorage.removeItem('age');

        // 删除不存在key不会报错
        // localStorage.removeItem('age');

        // console.log(localStorage);

        // clear localStorage
        // localStorage.clear();
        // console.log(localStorage);


        // 4. 使用localStorage实现自动填充
        
        const loginForm = document.getElementById('login');
        const btn = document.getElementById('btn');

        const username = localStorage.getItem('username');
        if (username) {
            loginForm.username.value = username;
        }
        btn.addEventListener('click', e => {
            e.preventDefault();
            // 数据验证

            localStorage.setItem('username', loginForm.username.value);

            loginForm.submit();
        }, false);
    </script>
</body>

</html>